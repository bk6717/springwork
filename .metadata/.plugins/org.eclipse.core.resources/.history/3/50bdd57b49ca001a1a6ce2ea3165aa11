let index = {
	
	init: function(){
		//리스너
		$("#btn-save").on("click", ()=>{
			//콜백 스택
			this.save();
		});
		//리스너
		$("#btn-login").on("click", ()=>{
			//콜백 스택
			this.login();
		});
	},
	
	save : function(){
		let data = {
			username : $("#username").val(),
			password : $("#password").val(),
			email : $("#email").val()
		};
		
		$.ajax({
			type : "POST",
			url : "/auth/joinProc",
			data : JSON.stringify(data),
			contentType : "application/json; charset=utf-8",
			dataType : "json"
		}).done(function(resp){
			if(resp.statusCode == 1){
				alert("회원가입 성공");
				location.href="/";
			}
			console.log(resp);
		}).fail(function(error){
			alert("회원가입 실패");
			console.log(error);
		})
	},
	
	login : function(){
		let data = {
			username : $("#username").val(),
			password : $("#password").val()
		};
		
		$.ajax({
			type : "POST",
			url : "/auth/joinProc",
			data : JSON.stringify(data),
			contentType : "application/json; charset=utf-8",
			dataType : "json"
		}).done(function(resp){
			if(resp.statusCode == 1){
				alert("회원가입 성공");
				location.href="/";
			}
			console.log(resp);
		}).fail(function(error){
			alert("회원가입 실패");
			console.log(error);
		})
	}
}

index.init();